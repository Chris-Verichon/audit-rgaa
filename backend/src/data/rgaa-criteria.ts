import type { RGAACriteria } from "../types/index.js";

/**
 * Référentiel RGAA 4.1.2 - 106 critères
 * Dernière mise à jour officielle : 18 avril 2023
 * Source : https://accessibilite.numerique.gouv.fr/methode/criteres-et-tests/
 * Mapping vers les critères WCAG 2.1 correspondants
 *
 * Les critères sont organisés en 13 thématiques :
 *  1. Images
 *  2. Cadres
 *  3. Couleurs
 *  4. Multimédia
 *  5. Tableaux
 *  6. Liens
 *  7. Scripts
 *  8. Éléments obligatoires
 *  9. Structuration de l'information
 * 10. Présentation de l'information
 * 11. Formulaires
 * 12. Navigation
 * 13. Consultation
 */
export const RGAA_CRITERIA: RGAACriteria[] = [
  // ─── THÉMATIQUE 1 : IMAGES ───
  {
    id: "1.1",
    thematique: "Images",
    critere: "Chaque image porteuse d'information a-t-elle une alternative textuelle ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["1.1.1", "1.1.2", "1.1.3", "1.1.4", "1.1.5", "1.1.6", "1.1.7", "1.1.8"],
  },
  {
    id: "1.2",
    thematique: "Images",
    critere: "Chaque image de décoration est-elle correctement ignorée par les technologies d'assistance ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["1.2.1", "1.2.2", "1.2.3", "1.2.4", "1.2.5", "1.2.6"],
  },
  {
    id: "1.3",
    thematique: "Images",
    critere: "Pour chaque image porteuse d'information ayant une alternative textuelle, cette alternative est-elle pertinente ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["1.3.1", "1.3.2", "1.3.3", "1.3.4", "1.3.5", "1.3.6", "1.3.7", "1.3.8", "1.3.9"],
  },
  {
    id: "1.4",
    thematique: "Images",
    critere: "Pour chaque image utilisée comme CAPTCHA ou comme image-test, ayant une alternative textuelle, cette alternative permet-elle d'identifier la nature et la fonction de l'image ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["1.4.1", "1.4.2", "1.4.3", "1.4.4", "1.4.5", "1.4.6", "1.4.7"],
  },
  {
    id: "1.5",
    thematique: "Images",
    critere: "Pour chaque image utilisée comme CAPTCHA, une solution d'accès alternatif au contenu ou à la fonction du CAPTCHA est-elle présente ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["1.5.1", "1.5.2"],
  },
  {
    id: "1.6",
    thematique: "Images",
    critere: "Chaque image porteuse d'information a-t-elle, si nécessaire, une description détaillée ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["1.6.1", "1.6.2", "1.6.3", "1.6.4", "1.6.5", "1.6.6", "1.6.7", "1.6.8", "1.6.9", "1.6.10"],
  },
  {
    id: "1.7",
    thematique: "Images",
    critere: "Pour chaque image porteuse d'information ayant une description détaillée, cette description est-elle pertinente ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["1.7.1", "1.7.2", "1.7.3", "1.7.4", "1.7.5", "1.7.6"],
  },
  {
    id: "1.8",
    thematique: "Images",
    critere: "Chaque image texte porteuse d'information, en l'absence d'un mécanisme de remplacement, doit si possible être remplacée par du texte stylé. Cette règle est-elle respectée ?",
    level: "AA",
    wcagCriteria: ["1.4.5"],
    tests: ["1.8.1", "1.8.2", "1.8.3", "1.8.4", "1.8.5"],
  },
  {
    id: "1.9",
    thematique: "Images",
    critere: "Chaque légende d'image est-elle, si nécessaire, correctement reliée à l'image correspondante ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["1.9.1", "1.9.2", "1.9.3", "1.9.4", "1.9.5"],
  },

  // ─── THÉMATIQUE 2 : CADRES ───
  {
    id: "2.1",
    thematique: "Cadres",
    critere: "Chaque cadre a-t-il un titre de cadre ?",
    level: "A",
    wcagCriteria: ["4.1.2"],
    tests: ["2.1.1"],
  },
  {
    id: "2.2",
    thematique: "Cadres",
    critere: "Pour chaque cadre ayant un titre de cadre, ce titre de cadre est-il pertinent ?",
    level: "A",
    wcagCriteria: ["4.1.2"],
    tests: ["2.2.1"],
  },

  // ─── THÉMATIQUE 3 : COULEURS ───
  {
    id: "3.1",
    thematique: "Couleurs",
    critere: "Dans chaque page web, l'information ne doit pas être donnée uniquement par la couleur. Cette règle est-elle respectée ?",
    level: "A",
    wcagCriteria: ["1.3.1", "1.4.1"],
    tests: ["3.1.1", "3.1.2", "3.1.3", "3.1.4", "3.1.5", "3.1.6"],
  },
  {
    id: "3.2",
    thematique: "Couleurs",
    critere: "Dans chaque page web, le contraste entre la couleur du texte et la couleur de son arrière-plan est-il suffisamment élevé ?",
    level: "AA",
    wcagCriteria: ["1.4.3"],
    tests: ["3.2.1", "3.2.2", "3.2.3", "3.2.4", "3.2.5"],
  },
  {
    id: "3.3",
    thematique: "Couleurs",
    critere: "Dans chaque page web, les couleurs utilisées dans les composants d'interface ou les éléments graphiques porteurs d'informations sont-elles suffisamment contrastées ?",
    level: "AA",
    wcagCriteria: ["1.4.11"],
    tests: ["3.3.1", "3.3.2", "3.3.3", "3.3.4"],
  },

  // ─── THÉMATIQUE 4 : MULTIMÉDIA ───
  {
    id: "4.1",
    thematique: "Multimédia",
    critere: "Chaque média temporel pré-enregistré a-t-il, si nécessaire, une transcription textuelle ou une audiodescription ?",
    level: "A",
    wcagCriteria: ["1.2.1", "1.2.3"],
    tests: ["4.1.1", "4.1.2", "4.1.3"],
  },
  {
    id: "4.2",
    thematique: "Multimédia",
    critere: "Pour chaque média temporel pré-enregistré ayant une transcription textuelle ou une audiodescription synchronisée, celles-ci sont-elles pertinentes ?",
    level: "A",
    wcagCriteria: ["1.2.1", "1.2.3"],
    tests: ["4.2.1", "4.2.2", "4.2.3"],
  },
  {
    id: "4.3",
    thematique: "Multimédia",
    critere: "Chaque média temporel synchronisé pré-enregistré a-t-il, si nécessaire, des sous-titres synchronisés ?",
    level: "A",
    wcagCriteria: ["1.2.2"],
    tests: ["4.3.1", "4.3.2"],
  },
  {
    id: "4.4",
    thematique: "Multimédia",
    critere: "Pour chaque média temporel synchronisé pré-enregistré ayant des sous-titres synchronisés, ces sous-titres sont-ils pertinents ?",
    level: "A",
    wcagCriteria: ["1.2.2"],
    tests: ["4.4.1"],
  },
  {
    id: "4.5",
    thematique: "Multimédia",
    critere: "Chaque média temporel pré-enregistré a-t-il, si nécessaire, une audiodescription synchronisée ?",
    level: "AA",
    wcagCriteria: ["1.2.5"],
    tests: ["4.5.1", "4.5.2"],
  },
  {
    id: "4.6",
    thematique: "Multimédia",
    critere: "Pour chaque média temporel pré-enregistré ayant une audiodescription synchronisée, celle-ci est-elle pertinente ?",
    level: "AA",
    wcagCriteria: ["1.2.5"],
    tests: ["4.6.1", "4.6.2"],
  },
  {
    id: "4.7",
    thematique: "Multimédia",
    critere: "Chaque média temporel est-il clairement identifiable ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["4.7.1"],
  },
  {
    id: "4.8",
    thematique: "Multimédia",
    critere: "Chaque média non temporel a-t-il, si nécessaire, une alternative ?",
    level: "A",
    wcagCriteria: ["1.1.1", "4.1.2"],
    tests: ["4.8.1", "4.8.2"],
  },
  {
    id: "4.9",
    thematique: "Multimédia",
    critere: "Pour chaque média non temporel ayant une alternative, cette alternative est-elle pertinente ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["4.9.1", "4.9.2"],
  },
  {
    id: "4.10",
    thematique: "Multimédia",
    critere: "Chaque son déclenché automatiquement est-il contrôlable par l'utilisateur ?",
    level: "A",
    wcagCriteria: ["1.4.2"],
    tests: ["4.10.1"],
  },
  {
    id: "4.11",
    thematique: "Multimédia",
    critere: "La consultation de chaque média temporel est-elle, si nécessaire, contrôlable par le clavier et tout dispositif de pointage ?",
    level: "A",
    wcagCriteria: ["2.1.1"],
    tests: ["4.11.1", "4.11.2", "4.11.3"],
  },
  {
    id: "4.12",
    thematique: "Multimédia",
    critere: "La consultation de chaque média non temporel est-elle contrôlable par le clavier et tout dispositif de pointage ?",
    level: "A",
    wcagCriteria: ["2.1.1"],
    tests: ["4.12.1", "4.12.2"],
  },
  {
    id: "4.13",
    thematique: "Multimédia",
    critere: "Chaque média temporel et non temporel est-il compatible avec les technologies d'assistance ?",
    level: "A",
    wcagCriteria: ["4.1.2"],
    tests: ["4.13.1", "4.13.2"],
  },

  // ─── THÉMATIQUE 5 : TABLEAUX ───
  {
    id: "5.1",
    thematique: "Tableaux",
    critere: "Chaque tableau de données complexe a-t-il un résumé ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["5.1.1"],
  },
  {
    id: "5.2",
    thematique: "Tableaux",
    critere: "Pour chaque tableau de données complexe ayant un résumé, celui-ci est-il pertinent ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["5.2.1"],
  },
  {
    id: "5.3",
    thematique: "Tableaux",
    critere: "Pour chaque tableau de mise en forme, le contenu linéarisé reste-t-il compréhensible ?",
    level: "A",
    wcagCriteria: ["1.3.2"],
    tests: ["5.3.1"],
  },
  {
    id: "5.4",
    thematique: "Tableaux",
    critere: "Pour chaque tableau de données ayant un titre, le titre est-il correctement associé au tableau de données ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["5.4.1"],
  },
  {
    id: "5.5",
    thematique: "Tableaux",
    critere: "Pour chaque tableau de données ayant un titre, ce titre est-il pertinent ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["5.5.1"],
  },
  {
    id: "5.6",
    thematique: "Tableaux",
    critere: "Pour chaque tableau de données, chaque en-tête de colonnes et chaque en-tête de lignes sont-ils correctement déclarés ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["5.6.1", "5.6.2"],
  },
  {
    id: "5.7",
    thematique: "Tableaux",
    critere: "Pour chaque tableau de données, la technique appropriée permettant d'associer chaque cellule avec ses en-têtes est-elle utilisée ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["5.7.1", "5.7.2", "5.7.3", "5.7.4", "5.7.5"],
  },
  {
    id: "5.8",
    thematique: "Tableaux",
    critere: "Chaque tableau de mise en forme ne doit pas utiliser d'éléments propres aux tableaux de données. Cette règle est-elle respectée ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["5.8.1"],
  },

  // ─── THÉMATIQUE 6 : LIENS ───
  {
    id: "6.1",
    thematique: "Liens",
    critere: "Chaque lien est-il explicite ?",
    level: "A",
    wcagCriteria: ["2.4.4"],
    tests: ["6.1.1", "6.1.2", "6.1.3", "6.1.4", "6.1.5"],
  },
  {
    id: "6.2",
    thematique: "Liens",
    critere: "Dans chaque page web, chaque lien a-t-il un intitulé ?",
    level: "A",
    wcagCriteria: ["2.4.4"],
    tests: ["6.2.1"],
  },

  // ─── THÉMATIQUE 7 : SCRIPTS ───
  {
    id: "7.1",
    thematique: "Scripts",
    critere: "Chaque script est-il, si nécessaire, compatible avec les technologies d'assistance ?",
    level: "A",
    wcagCriteria: ["4.1.2"],
    tests: ["7.1.1", "7.1.2", "7.1.3"],
  },
  {
    id: "7.2",
    thematique: "Scripts",
    critere: "Pour chaque script ayant une alternative, cette alternative est-elle pertinente ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["7.2.1", "7.2.2"],
  },
  {
    id: "7.3",
    thematique: "Scripts",
    critere: "Chaque script est-il contrôlable par le clavier et par tout dispositif de pointage ?",
    level: "A",
    wcagCriteria: ["2.1.1"],
    tests: ["7.3.1", "7.3.2"],
  },
  {
    id: "7.4",
    thematique: "Scripts",
    critere: "Pour chaque script qui initie un changement de contexte, l'utilisateur est-il averti ou en a-t-il le contrôle ?",
    level: "A",
    wcagCriteria: ["3.2.1", "3.2.2"],
    tests: ["7.4.1"],
  },
  {
    id: "7.5",
    thematique: "Scripts",
    critere: "Dans chaque page web, les messages de statut sont-ils correctement restitués par les technologies d'assistance ?",
    level: "AA",
    wcagCriteria: ["4.1.3"],
    tests: ["7.5.1", "7.5.2", "7.5.3"],
  },

  // ─── THÉMATIQUE 8 : ÉLÉMENTS OBLIGATOIRES ───
  {
    id: "8.1",
    thematique: "Éléments obligatoires",
    critere: "Chaque page web est-elle définie par un type de document ?",
    level: "A",
    wcagCriteria: ["4.1.1"],
    tests: ["8.1.1", "8.1.2", "8.1.3"],
  },
  {
    id: "8.2",
    thematique: "Éléments obligatoires",
    critere: "Pour chaque page web, le code source généré est-il valide selon le type de document spécifié ?",
    level: "A",
    wcagCriteria: ["4.1.1"],
    tests: ["8.2.1"],
  },
  {
    id: "8.3",
    thematique: "Éléments obligatoires",
    critere: "Dans chaque page web, la langue par défaut est-elle présente ?",
    level: "A",
    wcagCriteria: ["3.1.1"],
    tests: ["8.3.1"],
  },
  {
    id: "8.4",
    thematique: "Éléments obligatoires",
    critere: "Pour chaque page web ayant une langue par défaut, le code de langue est-il pertinent ?",
    level: "A",
    wcagCriteria: ["3.1.1"],
    tests: ["8.4.1"],
  },
  {
    id: "8.5",
    thematique: "Éléments obligatoires",
    critere: "Chaque page web a-t-elle un titre de page ?",
    level: "A",
    wcagCriteria: ["2.4.2"],
    tests: ["8.5.1"],
  },
  {
    id: "8.6",
    thematique: "Éléments obligatoires",
    critere: "Pour chaque page web ayant un titre de page, ce titre est-il pertinent ?",
    level: "A",
    wcagCriteria: ["2.4.2"],
    tests: ["8.6.1"],
  },
  {
    id: "8.7",
    thematique: "Éléments obligatoires",
    critere: "Dans chaque page web, chaque changement de langue est-il indiqué dans le code source ?",
    level: "AA",
    wcagCriteria: ["3.1.2"],
    tests: ["8.7.1"],
  },
  {
    id: "8.8",
    thematique: "Éléments obligatoires",
    critere: "Dans chaque page web, le code de changement de langue est-il valide ?",
    level: "AA",
    wcagCriteria: ["3.1.2"],
    tests: ["8.8.1"],
  },
  {
    id: "8.9",
    thematique: "Éléments obligatoires",
    critere: "Dans chaque page web, les balises ne doivent pas être utilisées uniquement à des fins de présentation. Cette règle est-elle respectée ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["8.9.1"],
  },
  {
    id: "8.10",
    thematique: "Éléments obligatoires",
    critere: "Dans chaque page web, les changements du sens de lecture sont-ils signalés ?",
    level: "A",
    wcagCriteria: ["1.3.2"],
    tests: ["8.10.1", "8.10.2"],
  },

  // ─── THÉMATIQUE 9 : STRUCTURATION DE L'INFORMATION ───
  {
    id: "9.1",
    thematique: "Structuration de l'information",
    critere: "Dans chaque page web, l'information est-elle structurée par l'utilisation appropriée de titres ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["9.1.1", "9.1.2", "9.1.3"],
  },
  {
    id: "9.2",
    thematique: "Structuration de l'information",
    critere: "Dans chaque page web, la structure du document est-elle cohérente ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["9.2.1"],
  },
  {
    id: "9.3",
    thematique: "Structuration de l'information",
    critere: "Dans chaque page web, chaque liste est-elle correctement structurée ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["9.3.1", "9.3.2", "9.3.3"],
  },
  {
    id: "9.4",
    thematique: "Structuration de l'information",
    critere: "Dans chaque page web, chaque citation est-elle correctement indiquée ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["9.4.1", "9.4.2"],
  },

  // ─── THÉMATIQUE 10 : PRÉSENTATION DE L'INFORMATION ───
  {
    id: "10.1",
    thematique: "Présentation de l'information",
    critere: "Dans le site web, des feuilles de styles sont-elles utilisées pour contrôler la présentation de l'information ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["10.1.1", "10.1.2", "10.1.3"],
  },
  {
    id: "10.2",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, le contenu visible reste-t-il présent lorsque les feuilles de styles sont désactivées ?",
    level: "A",
    wcagCriteria: ["1.3.2"],
    tests: ["10.2.1"],
  },
  {
    id: "10.3",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, l'information reste-t-elle compréhensible lorsque les feuilles de styles sont désactivées ?",
    level: "A",
    wcagCriteria: ["1.3.2"],
    tests: ["10.3.1"],
  },
  {
    id: "10.4",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, le texte reste-t-il lisible lorsque la taille des caractères est augmentée jusqu'à 200%, au moins ?",
    level: "AA",
    wcagCriteria: ["1.4.4"],
    tests: ["10.4.1", "10.4.2", "10.4.3"],
  },
  {
    id: "10.5",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, les déclarations CSS de couleurs de fond d'élément et de police sont-elles correctement utilisées ?",
    level: "A",
    wcagCriteria: ["1.4.8"],
    tests: ["10.5.1", "10.5.2", "10.5.3"],
  },
  {
    id: "10.6",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, chaque lien dont la nature n'est pas évidente est-il visible par rapport au texte environnant ?",
    level: "A",
    wcagCriteria: ["1.4.1"],
    tests: ["10.6.1"],
  },
  {
    id: "10.7",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, pour chaque élément recevant le focus, la prise de focus est-elle visible ?",
    level: "A",
    wcagCriteria: ["2.4.7"],
    tests: ["10.7.1", "10.7.2", "10.7.3"],
  },
  {
    id: "10.8",
    thematique: "Présentation de l'information",
    critere: "Pour chaque page web, les contenus cachés ont-ils vocation à être ignorés par les technologies d'assistance ?",
    level: "A",
    wcagCriteria: ["4.1.2"],
    tests: ["10.8.1"],
  },
  {
    id: "10.9",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, l'information ne doit pas être donnée uniquement par la forme, taille ou position. Cette règle est-elle respectée ?",
    level: "A",
    wcagCriteria: ["1.3.3"],
    tests: ["10.9.1", "10.9.2", "10.9.3"],
  },
  {
    id: "10.10",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, l'information ne doit pas être donnée par la forme, taille ou position uniquement. Cette règle est-elle implémentée de façon pertinente ?",
    level: "A",
    wcagCriteria: ["1.3.3"],
    tests: ["10.10.1"],
  },
  {
    id: "10.11",
    thematique: "Présentation de l'information",
    critere: "Pour chaque page web, les contenus peuvent-ils être présentés sans avoir recours à un défilement vertical pour une fenêtre ayant une hauteur de 256 px ou à un défilement horizontal pour une fenêtre ayant une largeur de 320 px ?",
    level: "AA",
    wcagCriteria: ["1.4.10"],
    tests: ["10.11.1"],
  },
  {
    id: "10.12",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, les propriétés d'espacement du texte peuvent-elles être redéfinies par l'utilisateur sans perte de contenu ou de fonctionnalité ?",
    level: "AA",
    wcagCriteria: ["1.4.12"],
    tests: ["10.12.1"],
  },
  {
    id: "10.13",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, les contenus additionnels apparaissant à la prise de focus ou au survol d'un composant d'interface sont-ils contrôlables par l'utilisateur ?",
    level: "AA",
    wcagCriteria: ["1.4.13"],
    tests: ["10.13.1", "10.13.2", "10.13.3"],
  },
  {
    id: "10.14",
    thematique: "Présentation de l'information",
    critere: "Dans chaque page web, les contenus additionnels apparaissant via les styles CSS uniquement peuvent-ils être rendus visibles au clavier et par tout dispositif de pointage ?",
    level: "A",
    wcagCriteria: ["2.1.1"],
    tests: ["10.14.1", "10.14.2"],
  },

  // ─── THÉMATIQUE 11 : FORMULAIRES ───
  {
    id: "11.1",
    thematique: "Formulaires",
    critere: "Chaque champ de formulaire a-t-il une étiquette ?",
    level: "A",
    wcagCriteria: ["1.3.1", "4.1.2"],
    tests: ["11.1.1", "11.1.2", "11.1.3"],
  },
  {
    id: "11.2",
    thematique: "Formulaires",
    critere: "Chaque étiquette associée à un champ de formulaire est-elle pertinente ?",
    level: "A",
    wcagCriteria: ["2.4.6"],
    tests: ["11.2.1", "11.2.2", "11.2.3", "11.2.4", "11.2.5", "11.2.6"],
  },
  {
    id: "11.3",
    thematique: "Formulaires",
    critere: "Dans chaque formulaire, chaque étiquette associée à un champ de formulaire ayant la même fonction et répété plusieurs fois dans une même page ou dans un ensemble de pages est-elle cohérente ?",
    level: "AA",
    wcagCriteria: ["3.2.4"],
    tests: ["11.3.1", "11.3.2"],
  },
  {
    id: "11.4",
    thematique: "Formulaires",
    critere: "Dans chaque formulaire, chaque étiquette de champ et son champ associé sont-ils accolés ?",
    level: "A",
    wcagCriteria: ["3.3.2"],
    tests: ["11.4.1", "11.4.2", "11.4.3"],
  },
  {
    id: "11.5",
    thematique: "Formulaires",
    critere: "Dans chaque formulaire, les champs de même nature sont-ils regroupés, si nécessaire ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["11.5.1"],
  },
  {
    id: "11.6",
    thematique: "Formulaires",
    critere: "Dans chaque formulaire, chaque regroupement de champs de même nature a-t-il une légende ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["11.6.1"],
  },
  {
    id: "11.7",
    thematique: "Formulaires",
    critere: "Dans chaque formulaire, chaque légende associée à un regroupement de champs de même nature est-elle pertinente ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["11.7.1"],
  },
  {
    id: "11.8",
    thematique: "Formulaires",
    critere: "Dans chaque formulaire, les items de même nature d'une liste de choix sont-ils regroupés de manière pertinente ?",
    level: "A",
    wcagCriteria: ["1.3.1"],
    tests: ["11.8.1"],
  },
  {
    id: "11.9",
    thematique: "Formulaires",
    critere: "Dans chaque formulaire, l'intitulé de chaque bouton est-il pertinent ?",
    level: "A",
    wcagCriteria: ["4.1.2"],
    tests: ["11.9.1", "11.9.2"],
  },
  {
    id: "11.10",
    thematique: "Formulaires",
    critere: "Dans chaque formulaire, le contrôle de saisie est-il utilisé de manière pertinente ?",
    level: "A",
    wcagCriteria: ["3.3.1", "3.3.2"],
    tests: ["11.10.1", "11.10.2", "11.10.3", "11.10.4", "11.10.5", "11.10.6", "11.10.7"],
  },
  {
    id: "11.11",
    thematique: "Formulaires",
    critere: "Dans chaque formulaire, le contrôle de saisie est-il accompagné, si nécessaire, de suggestions facilitant la correction des erreurs de saisie ?",
    level: "AA",
    wcagCriteria: ["3.3.3"],
    tests: ["11.11.1", "11.11.2"],
  },
  {
    id: "11.12",
    thematique: "Formulaires",
    critere: "Pour chaque formulaire qui modifie ou supprime des données, ou qui transmet des réponses à un test ou un examen, ou dont la validation a des conséquences financières ou juridiques, les données saisies peuvent-elles être modifiées, mises à jour ou récupérées par l'utilisateur ?",
    level: "AA",
    wcagCriteria: ["3.3.4"],
    tests: ["11.12.1", "11.12.2"],
  },
  {
    id: "11.13",
    thematique: "Formulaires",
    critere: "La finalité d'un champ de saisie peut-elle être déduite pour faciliter le remplissage automatique des champs avec les données de l'utilisateur ?",
    level: "AA",
    wcagCriteria: ["1.3.5"],
    tests: ["11.13.1"],
  },

  // ─── THÉMATIQUE 12 : NAVIGATION ───
  {
    id: "12.1",
    thematique: "Navigation",
    critere: "Chaque ensemble de pages dispose-t-il de deux systèmes de navigation différents, au moins ?",
    level: "AA",
    wcagCriteria: ["2.4.5"],
    tests: ["12.1.1"],
  },
  {
    id: "12.2",
    thematique: "Navigation",
    critere: "Dans chaque ensemble de pages, le menu et les barres de navigation sont-ils toujours à la même place ?",
    level: "AA",
    wcagCriteria: ["3.2.3"],
    tests: ["12.2.1"],
  },
  {
    id: "12.3",
    thematique: "Navigation",
    critere: "La page « plan du site » est-elle pertinente ?",
    level: "AA",
    wcagCriteria: ["2.4.5"],
    tests: ["12.3.1", "12.3.2", "12.3.3"],
  },
  {
    id: "12.4",
    thematique: "Navigation",
    critere: "Dans chaque ensemble de pages, la page « plan du site » est-elle atteignable de manière identique ?",
    level: "AA",
    wcagCriteria: ["3.2.3"],
    tests: ["12.4.1", "12.4.2", "12.4.3"],
  },
  {
    id: "12.5",
    thematique: "Navigation",
    critere: "Dans chaque ensemble de pages, le moteur de recherche est-il atteignable de manière identique ?",
    level: "AA",
    wcagCriteria: ["3.2.3"],
    tests: ["12.5.1", "12.5.2", "12.5.3"],
  },
  {
    id: "12.6",
    thematique: "Navigation",
    critere: "Les zones de regroupement de contenus présentes dans plusieurs pages web (zones d'en-tête, de navigation principale, de contenu principal, de pied de page et de moteur de recherche) peuvent-elles être atteintes ou évitées ?",
    level: "A",
    wcagCriteria: ["2.4.1"],
    tests: ["12.6.1", "12.6.2", "12.6.3"],
  },
  {
    id: "12.7",
    thematique: "Navigation",
    critere: "Dans chaque page web, un lien d'évitement ou d'accès rapide à la zone de contenu principal est-il présent ?",
    level: "A",
    wcagCriteria: ["2.4.1"],
    tests: ["12.7.1", "12.7.2"],
  },
  {
    id: "12.8",
    thematique: "Navigation",
    critere: "Dans chaque page web, l'ordre de tabulation est-il cohérent ?",
    level: "A",
    wcagCriteria: ["2.4.3"],
    tests: ["12.8.1"],
  },
  {
    id: "12.9",
    thematique: "Navigation",
    critere: "Dans chaque page web, la navigation ne doit pas contenir de piège au clavier. Cette règle est-elle respectée ?",
    level: "A",
    wcagCriteria: ["2.1.2"],
    tests: ["12.9.1"],
  },
  {
    id: "12.10",
    thematique: "Navigation",
    critere: "Dans chaque page web, les raccourcis clavier n'utilisant qu'une seule touche (lettre minuscule ou majuscule, ponctuation, chiffre ou symbole) sont-ils contrôlables par l'utilisateur ?",
    level: "A",
    wcagCriteria: ["2.1.4"],
    tests: ["12.10.1"],
  },
  {
    id: "12.11",
    thematique: "Navigation",
    critere: "Dans chaque page web, les contenus additionnels apparaissant au survol, à la prise de focus ou à l'activation d'un composant d'interface sont-ils si nécessaire atteignables au clavier ?",
    level: "AA",
    wcagCriteria: ["2.1.1"],
    tests: ["12.11.1"],
  },

  // ─── THÉMATIQUE 13 : CONSULTATION ───
  {
    id: "13.1",
    thematique: "Consultation",
    critere: "Pour chaque page web, l'utilisateur a-t-il le contrôle de chaque limite de temps modifiant le contenu ?",
    level: "A",
    wcagCriteria: ["2.2.1"],
    tests: ["13.1.1", "13.1.2", "13.1.3", "13.1.4"],
  },
  {
    id: "13.2",
    thematique: "Consultation",
    critere: "Dans chaque page web, pour chaque ouverture de nouvelle fenêtre effectuée via un script, l'utilisateur est-il averti ?",
    level: "A",
    wcagCriteria: ["3.2.5"],
    tests: ["13.2.1"],
  },
  {
    id: "13.3",
    thematique: "Consultation",
    critere: "Dans chaque page web, chaque document bureautique en téléchargement possède-t-il, si nécessaire, une version accessible ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["13.3.1"],
  },
  {
    id: "13.4",
    thematique: "Consultation",
    critere: "Pour chaque document bureautique ayant une version accessible, cette version offre-t-elle la même information ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["13.4.1"],
  },
  {
    id: "13.5",
    thematique: "Consultation",
    critere: "Dans chaque page web, chaque contenu cryptique (art ASCII, émoticône, syntaxe cryptique) a-t-il une alternative ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["13.5.1"],
  },
  {
    id: "13.6",
    thematique: "Consultation",
    critere: "Dans chaque page web, pour chaque contenu cryptique (art ASCII, émoticône, syntaxe cryptique) ayant une alternative, cette alternative est-elle pertinente ?",
    level: "A",
    wcagCriteria: ["1.1.1"],
    tests: ["13.6.1"],
  },
  {
    id: "13.7",
    thematique: "Consultation",
    critere: "Dans chaque page web, les changements brusques de luminosité ou les effets de flash sont-ils correctement utilisés ?",
    level: "A",
    wcagCriteria: ["2.3.1"],
    tests: ["13.7.1", "13.7.2", "13.7.3"],
  },
  {
    id: "13.8",
    thematique: "Consultation",
    critere: "Dans chaque page web, chaque contenu en mouvement ou clignotant est-il contrôlable par l'utilisateur ?",
    level: "A",
    wcagCriteria: ["2.2.2"],
    tests: ["13.8.1", "13.8.2"],
  },
  {
    id: "13.9",
    thematique: "Consultation",
    critere: "Dans chaque page web, le contenu proposé est-il consultable quelle que soit l'orientation de l'écran (portrait ou paysage) ?",
    level: "AA",
    wcagCriteria: ["1.3.4"],
    tests: ["13.9.1"],
  },
  {
    id: "13.10",
    thematique: "Consultation",
    critere: "Dans chaque page web, les fonctionnalités utilisables par un geste complexe peuvent-elles être également disponibles par le biais d'un geste simple ?",
    level: "A",
    wcagCriteria: ["2.5.1"],
    tests: ["13.10.1", "13.10.2"],
  },
  {
    id: "13.11",
    thematique: "Consultation",
    critere: "Dans chaque page web, les actions déclenchées au moyen d'un dispositif de pointage sur un point unique de l'écran peuvent-elles faire l'objet d'une annulation ?",
    level: "A",
    wcagCriteria: ["2.5.2"],
    tests: ["13.11.1"],
  },
  {
    id: "13.12",
    thematique: "Consultation",
    critere: "Dans chaque page web, les fonctionnalités qui impliquent un mouvement de l'appareil ou vers l'appareil peuvent-elles être satisfaites de manière alternative ?",
    level: "A",
    wcagCriteria: ["2.5.4"],
    tests: ["13.12.1", "13.12.2", "13.12.3"],
  },
];

/**
 * Mapping rules axe-core to RGAA criteria
 * Used to find RGAA criteria impacted by an axe-core rule
 */
export const AXE_WCAG_MAPPING: Record<string, string[]> = {
  "area-alt": ["1.1.1"],
  "image-alt": ["1.1.1"],
  "image-redundant-alt": ["1.1.1"],
  "input-image-alt": ["1.1.1"],
  "object-alt": ["1.1.1"],
  "role-img-alt": ["1.1.1"],
  "svg-img-alt": ["1.1.1"],
  "frame-title": ["4.1.2"],
  "frame-title-unique": ["4.1.2"],
  "color-contrast": ["1.4.3"],
  "color-contrast-enhanced": ["1.4.6"],
  "link-in-text-block": ["1.4.1"],
  "video-caption": ["1.2.2"],
  "video-description": ["1.2.5"],
  "audio-caption": ["1.2.1"],
  "td-headers-attr": ["1.3.1"],
  "th-has-data-cells": ["1.3.1"],
  "table-duplicate-name": ["1.3.1"],
  "scope-attr-valid": ["1.3.1"],
  "link-name": ["2.4.4"],
  "identical-links-same-purpose": ["2.4.4"],
  "aria-allowed-attr": ["4.1.2"],
  "aria-allowed-role": ["4.1.2"],
  "aria-command-name": ["4.1.2"],
  "aria-dialog-name": ["4.1.2"],
  "aria-hidden-body": ["4.1.2"],
  "aria-hidden-focus": ["4.1.2"],
  "aria-input-field-name": ["4.1.2"],
  "aria-meter-name": ["4.1.2"],
  "aria-progressbar-name": ["4.1.2"],
  "aria-required-attr": ["4.1.2"],
  "aria-required-children": ["4.1.2"],
  "aria-required-parent": ["4.1.2"],
  "aria-roles": ["4.1.2"],
  "aria-toggle-field-name": ["4.1.2"],
  "aria-tooltip-name": ["4.1.2"],
  "aria-valid-attr-value": ["4.1.2"],
  "aria-valid-attr": ["4.1.2"],
  "button-name": ["4.1.2"],
  "duplicate-id-aria": ["4.1.1"],
  "duplicate-id": ["4.1.1"],
  "html-has-lang": ["3.1.1"],
  "html-lang-valid": ["3.1.1"],
  "html-xml-lang-mismatch": ["3.1.1"],
  "valid-lang": ["3.1.2"],
  "document-title": ["2.4.2"],
  "page-has-heading-one": ["1.3.1"],
  "heading-order": ["1.3.1"],
  "empty-heading": ["1.3.1"],
  "p-as-heading": ["1.3.1"],
  "landmark-one-main": ["1.3.1"],
  "landmark-unique": ["1.3.1"],
  "list": ["1.3.1"],
  "listitem": ["1.3.1"],
  "definition-list": ["1.3.1"],
  "dlitem": ["1.3.1"],
  "bypass": ["2.4.1"],
  "region": ["2.4.1"],
  "tabindex": ["2.4.3"],
  "focus-order-semantics": ["2.4.3"],
  "label": ["1.3.1", "4.1.2"],
  "label-title-only": ["3.3.2"],
  "select-name": ["4.1.2"],
  "input-button-name": ["4.1.2"],
  "form-field-multiple-labels": ["1.3.1"],
  "autocomplete-valid": ["1.3.5"],
  "meta-refresh": ["2.2.1"],
  "meta-viewport": ["1.4.4"],
  "meta-viewport-large": ["1.4.4"],
  "no-autoplay-audio": ["1.4.2"],
  "scrollable-region-focusable": ["2.1.1"],
  "nested-interactive": ["4.1.2"],
  "target-size": ["2.5.8"],
};

/**
 * Find RGAA criteria impacted by a WCAG criterion
 */
export function findRGAAByWCAG(wcagId: string): RGAACriteria[] {
  return RGAA_CRITERIA.filter((c) => c.wcagCriteria.includes(wcagId));
}

/**
 * Find RGAA criteria impacted by an axe-core rule
 */
export function findRGAAByAxeRule(axeRuleId: string): RGAACriteria[] {
  const wcagIds = AXE_WCAG_MAPPING[axeRuleId] || [];
  const rgaaSet = new Set<string>();
  const results: RGAACriteria[] = [];

  for (const wcagId of wcagIds) {
    const matches = findRGAAByWCAG(wcagId);
    for (const match of matches) {
      if (!rgaaSet.has(match.id)) {
        rgaaSet.add(match.id);
        results.push(match);
      }
    }
  }

  return results;
}
